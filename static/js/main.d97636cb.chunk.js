(window["webpackJsonpthe-beer-store"]=window["webpackJsonpthe-beer-store"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/placeHolderImage.1182456c.svg"},,function(e){e.exports=JSON.parse("[1511004,1331031,574004]")},,,,,function(e,t,a){e.exports=a.p+"static/media/theBeerStoreLogo.ec55f38e.svg"},function(e,t,a){e.exports=a.p+"static/media/filterIcon.1ed01802.svg"},function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(11),c=a.n(o),i=(a(20),a(7)),s=a(9),l=a.n(s),u=a(12),d=a(1),m=a(2),p=a(4),h=a(3),g=a(5),f=a(13),E=a.n(f),v=function(e){var t=e.goBackToHomePage;return n.a.createElement("div",{className:"logo",onClick:t},n.a.createElement("img",{src:E.a,alt:"The Beer Store Logo"}))},y=a(14),P=a.n(y),b=function(e){var t=e.toggleSortSection,a=e.goBackToHomePage;return n.a.createElement("div",{className:"headerContainer"},n.a.createElement("div",{className:"headerInfo wrapper"},n.a.createElement("button",{className:"filterBtn",onClick:t},n.a.createElement("img",{src:P.a,alt:"filter icon"})),n.a.createElement(v,{goBackToHomePage:a})))},S=a(8),N=a(6),w=a.n(N),C=function(e){e.target.src=w.a},B=function(e){var t=e.product;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"productImageContainer",key:t.product_id},n.a.createElement("img",{onError:C,src:t.image_url,alt:t.name+" picture",className:"primaryProductImage"})),n.a.createElement("div",{className:"productInfoContainer"},n.a.createElement("div",{className:"basicProductInfo"},n.a.createElement("h2",null,t.name),n.a.createElement("p",{className:"productBrewer"},t.brewer)),n.a.createElement("div",{className:"detailedProductInfo"},n.a.createElement("div",{className:"otherProductInfo"},n.a.createElement("p",{className:"productType"},t.type),n.a.createElement("p",null,n.a.createElement("span",{className:"productCurrency"},"$")," ",n.a.createElement("span",{className:"productPrice"},t.price))),n.a.createElement("div",{className:"sizeAndABVProductInfo"},n.a.createElement("p",{className:"productSizeandABV"},t.size," \xb7 ",t.abv,"% ABV")))))},k=function(e){e.target.src=w.a},I=function(e){var t=e.highlightedProductsData;return t.length?n.a.createElement(n.a.Fragment,null,t.map((function(e,t){return 0===t?n.a.createElement("div",{className:"primaryProductCard productCard",key:e.product_id},n.a.createElement("div",{className:"primaryProductImageContainer"},n.a.createElement("img",{src:e.image_url,onError:k,alt:e.name+" picture",className:"primaryProductImage"})),n.a.createElement("div",{className:"primaryProductInfoContainer"},n.a.createElement("div",{className:"basicProductInfo"},n.a.createElement("h2",null,e.name),n.a.createElement("p",{className:"productBrewer"},e.brewer)),n.a.createElement("div",{className:"primaryDetailedProductInfo"},n.a.createElement("div",{className:"primaryOtherProductInfo"},n.a.createElement("p",{className:"productType"},e.type),n.a.createElement("p",{className:"productSizeandABV"},e.size," \xb7 ",e.abv,"% ABV")),n.a.createElement("div",{className:"priceProductInfo"},n.a.createElement("p",null,n.a.createElement("span",{className:"productCurrency"},"$")," ",n.a.createElement("span",{className:"productPrice"},e.price)))))):null})),n.a.createElement("div",{className:"secondaryProductCardContainer"},t.map((function(e,t){return 0!==t?n.a.createElement("div",{className:"secondaryProductCard productCard",key:e.product_id},n.a.createElement(B,{product:e})):null})))):""},A=function(e){var t=e.otherProductsData.slice(0,9);return n.a.createElement("div",{className:"tertiaryProductCardContainer"},t.map((function(e){return n.a.createElement("div",{className:"tertiaryProductCard productCard",key:e.product_id},n.a.createElement(B,{product:e}))})))},H=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).organizeAndRenderProducts=function(t,a){if(!a){var r=t.filter((function(e){return!S.includes(e.product_id)})),n=t.filter((function(e){return S.includes(e.product_id)})),o=e.sortPrimaryHighlitedProduct(n);return e.renderProducts(r,a,o)}if(a)return e.renderProducts(t,a)},e.sortPrimaryHighlitedProduct=function(e){var t=[],a=e.filter((function(e){return e.product_id!==S[0]||(t.push(e),!1)}));return[].concat(t,Object(i.a)(a))},e.renderProducts=function(e,t,a){return n.a.createElement("div",{className:"productDisplayContainer wrapper"},!t&&n.a.createElement(I,{highlightedProductsData:a}),n.a.createElement(A,{otherProductsData:e}))},e.state={productData:[]},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.displaySortedProducts,a=e.productsToDisplay;return n.a.createElement(n.a.Fragment,null,a.length?this.organizeAndRenderProducts(a,t):n.a.createElement("div",null,n.a.createElement("h1",null,"loading...")))}}]),t}(r.Component),O=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),""!==e.state.userQuery&&e.props.handleSort(e.state.userQuery)},e.handleClick=function(t){e.setState({userQuery:t.target.value})},e.state={userQuery:""},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"productCard"},n.a.createElement("h2",null,"Sort By:"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"sortInputContainer"},n.a.createElement("label",{htmlFor:"sortPriceLow"},"Price: Lowest"),n.a.createElement("input",{type:"radio",id:"sortPriceLow",name:"sort",value:"PriceLow",onChange:this.handleClick,checked:"PriceLow"===this.state.userQuery})),n.a.createElement("div",{className:"sortInputContainer"},n.a.createElement("label",{htmlFor:"sortPriceHigh"},"Price: Highest"),n.a.createElement("input",{type:"radio",id:"sortPriceHigh",name:"sort",value:"PriceHigh",onChange:this.handleClick,checked:"PriceHigh"===this.state.userQuery})),n.a.createElement("div",{className:"sortInputContainer"},n.a.createElement("label",{htmlFor:"sortABVLow"},"ABV: Lowest"),n.a.createElement("input",{type:"radio",id:"sortABVLow",name:"sort",value:"ABVLow",onChange:this.handleClick,checked:"ABVLow"===this.state.userQuery})),n.a.createElement("div",{className:"sortInputContainer"},n.a.createElement("label",{htmlFor:"sortABVHigh"},"ABV: Highest"),n.a.createElement("input",{type:"radio",id:"sortABVHigh",name:"sort",value:"ABVHigh",onChange:this.handleClick,checked:"ABVHigh"===this.state.userQuery})),n.a.createElement("button",{className:"sortButton"},"Enter"))))}}]),t}(r.Component),j=(a(22),function(e,t){return parseFloat(e.price)-parseFloat(t.price)}),D=function(e,t){return parseFloat(t.price)-parseFloat(e.price)},F=function(e,t){return parseFloat(e.abv)-parseFloat(t.abv)},T=function(e,t){return parseFloat(t.abv)-parseFloat(e.abv)},V=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).getFromBeerstoreAPI=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://ontariobeerapi.ca/","https://cors-anywhere.herokuapp.com/",a=t,e.next=5,fetch("https://cors-anywhere.herokuapp.com/http://ontariobeerapi.ca/"+a);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.filterForLowestQuantity=function(e){var t={};return e.forEach((function(e){var a=e.beer_id.toString();a in t?a in t&&+t[a].price>e.price&&(t[a]=e):t[a]=e})),Object.values(t)},e.updateProductsToDisplay=function(t){var a=Object(i.a)(e.state.beerstoreProducts),r=[];"homepage"===t?e.setState({productsToDisplay:a,displaySortedProducts:!1}):("PriceLow"===t?r=a.sort(j):"PriceHigh"===t?r=a.sort(D):"ABVLow"===t?r=a.sort(F):"ABVHigh"===t&&(r=a.sort(T)),e.setState({productsToDisplay:r,displaySortedProducts:!0}))},e.toggleSortSection=function(){e.setState({displaySortSection:!e.state.displaySortSection})},e.handleSort=function(t){e.setState({displaySortSection:!1}),e.updateProductsToDisplay(t)},e.goBackToHomePage=function(){e.updateProductsToDisplay("homepage"),e.setState({displaySortSection:!1})},e.state={beerstoreProducts:[],productsToDisplay:[],displaySortedProducts:!1,displaySortSection:!1},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getFromBeerstoreAPI("products").then((function(t){var a=e.filterForLowestQuantity(t);e.setState({beerstoreProducts:a}),e.updateProductsToDisplay("homepage")})).catch((function(t){alert(t,"try again later"),e.setState({beerstoreProducts:!1})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"body"},n.a.createElement(b,{toggleSortSection:this.toggleSortSection,goBackToHomePage:this.goBackToHomePage}),this.state.displaySortSection?n.a.createElement(O,{handleSort:this.handleSort}):null,n.a.createElement(H,{productsToDisplay:this.state.productsToDisplay,displaySortedProducts:this.state.displaySortedProducts}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[15,1,2]]]);
//# sourceMappingURL=main.d97636cb.chunk.js.map