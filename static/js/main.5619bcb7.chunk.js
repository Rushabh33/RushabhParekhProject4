(window.webpackJsonpfinalbeerstore=window.webpackJsonpfinalbeerstore||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/theBeerStoreLogo.b011b918.svg"},,function(e,t,a){e.exports=a.p+"static/media/filterIcon.1ed01802.svg"},function(e,t,a){e.exports=a.p+"static/media/searchIcon.2ea4c436.svg"},function(e,t,a){e.exports=a.p+"static/media/placeHolderImage.1182456c.svg"},function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),i=(a(20),a(1)),s=a(2),o=a(4),d=a(3),u=a(5),m=(a(21),a(10)),p=a.n(m),h=function(){return r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:p.a,alt:"BeerStore Logo"}))},E=function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",null,"Our Beers"))))},f=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"headerContainer wrapper"},r.a.createElement(h,null),r.a.createElement(E,null)))},g=function(){return r.a.createElement("div",{className:"pageBanner"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"breadcrumb"},r.a.createElement("p",null,"Home > ",r.a.createElement("span",null,"Our Beers"))),r.a.createElement("h2",null,"Explore our Beers")))},y=a(7),b=a(6),v=a.n(b),D=a(11),N=a(12),C=a.n(N),O=function(e,t){console.log(e,t),e.classList.toggle("".concat(t))},S=function(){var e=null,t=null,a=null;return r.a.createElement("div",{className:"toggleFilterContainer"},r.a.createElement("button",{className:"filterBtn",onClick:function(){e=document.getElementsByClassName("productList")[0],t=document.getElementsByClassName("filterSection")[0],a=document.querySelector(".filterSection > div"),O(e,"onlyDisplayproductList"),O(t,"hideFilter"),O(a,"hideFilterDiv")}},r.a.createElement("img",{src:C.a,alt:"filter icon"})))},k=function(e){return r.a.createElement("div",null,r.a.createElement("form",{className:"sortForm"},r.a.createElement("div",{className:"sortOption"},r.a.createElement("label",{htmlFor:""},r.a.createElement("p",null,"Sort by: ")," "),r.a.createElement("select",{name:"",id:"",onChange:function(t){e.handleSortandFilter(t.target.value)}},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Choose here"),r.a.createElement("option",{value:"price sortAscending"},"Price: Low to High"),r.a.createElement("option",{value:"price sortDecending"},"Price: High to Low"),r.a.createElement("option",{value:"name sortAscending"},"Product Name: A - Z"),r.a.createElement("option",{value:"name sortDecending"},"Product Name: Z - A")))))},x=function(e){var t=e.handleSortandFilter;return r.a.createElement("div",{className:"sortSectionContainer"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(S,null),r.a.createElement(k,{handleSortandFilter:t})))},j=a(13),w=a.n(j),B=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(d.a)(t).call(this))).clearSearchValue=function(){document.getElementById("productSearch").value=""},e.handleChange=function(t){var a="checkbox ".concat(t.target.name);e.props.handleSortandFilter(a);var n=document.getElementsByName(t.target.name)[0].parentElement.parentElement;Boolean(e.state.oldCheckedElement)&&O(e.state.oldCheckedElement,"selected"),O(n,"selected"),e.setState({oldCheckedElement:n}),e.clearSearchValue()},e.handleSubmit=function(e){e.preventDefault()},e.handleSearchChange=function(t){var a="name ".concat(t.target.value);e.props.handleSortandFilter(a)},e.state={oldCheckedElement:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"filterSection hideFilter"},r.a.createElement("div",{className:"hideFilterDiv"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"productSearchContainer"},r.a.createElement("label",{htmlFor:"productSearch",className:"hidden"},"Search by name"),r.a.createElement("input",{type:"search",id:"productSearch",placeholder:"Search Product by Name",onChange:this.handleSearchChange}),r.a.createElement("button",null,r.a.createElement("img",{src:w.a,alt:"search icon"})))),r.a.createElement("form",null,r.a.createElement("div",{className:"filterCategory"},r.a.createElement("h3",null,"Country"),r.a.createElement("ul",{className:"filterList"},r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"country Canada",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Canada")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"country United States",type:"checkbox",className:"hidden",onChange:this.handleChange}),"United States")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"country Mexico",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Mexico")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"country Germany",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Germany")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"country Belgium",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Belgium")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"country Ireland",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Ireland")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"country Denmark",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Denmark"))))),r.a.createElement("form",null,r.a.createElement("div",{className:"filterCategory"},r.a.createElement("h3",null,"Beer Type"),r.a.createElement("ul",{className:"filterList"},r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"type Malt",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Malt")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"type Lager",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Lager")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"type Ale",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Ale")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"type Flavoured Malt",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Flavoured Malt")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"type Porter",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Porter")),r.a.createElement("li",{className:"filterOption"},r.a.createElement("label",null,r.a.createElement("input",{name:"type Stout",type:"checkbox",className:"hidden",onChange:this.handleChange}),"Stout")))))))}}]),t}(n.Component),P=a(14),F=a.n(P),A=function(e){var t=e.productInfo,a=e.lessDisplayed;return r.a.createElement("li",{className:"productListItem "+a},r.a.createElement("div",{className:"productImageContainer",key:t.product_id},r.a.createElement("img",{onError:function(e){return function(e,t){e.target.src=t}(e,F.a)},src:t.image_url,alt:t.name+" picture",className:"primaryProductImage"})),r.a.createElement("div",{className:"productInfoContainer"},r.a.createElement("div",{className:"basicProductInfo"},r.a.createElement("h2",null,t.name),r.a.createElement("p",{className:"productBrewer"},t.brewer)),r.a.createElement("div",{className:"detailedProductInfo"},r.a.createElement("div",{className:"typeAndPriceProductInfo"},r.a.createElement("p",{className:"productType"},t.type),r.a.createElement("p",null,"$",r.a.createElement("span",{className:"productPrice"},t.price))),r.a.createElement("div",{className:"sizeAndABVProductInfo"},r.a.createElement("p",{className:"productSize"},t.size),r.a.createElement("p",{className:"productABV"},t.abv,"% ABV")))))},L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).listOfDisplayedProducts=function(e){return e.map((function(t){return r.a.createElement(A,{productInfo:t,lessDisplayed:2===e.length?"lessDisplayed":1===e.length?"lessDisplayed less":null})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.displayedData;return r.a.createElement("ul",{id:"productList",className:"productList onlyDisplayproductList"},this.listOfDisplayedProducts(e))}}]),t}(n.Component),I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(d.a)(t).call(this))).getTheBeerStoreData=function(){var e=Object(D.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://ontariobeerapi.ca/","https://cors-anywhere.herokuapp.com/",e.next=4,fetch("https://cors-anywhere.herokuapp.com/http://ontariobeerapi.ca/"+t);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.refineTheBeerStoreData=function(e){var t=e.reduce((function(e,t){var a=t.beer_id.toString();return a in e&&!(+e[a].price>t.price)||(e[a]=t),e}),{});return Object.values(t)},e.handleSortandFilter=function(t){t.includes("checkbox")||t.includes("name")?e.updateDisplayedData(t,e.state.refinedData):e.updateDisplayedData(t,e.state.userOrganizedData)},e.updateDisplayedData=function(t,a){var n=Object(y.a)(a),r=t.split(" ");if(console.log(r),console.log(a),r.includes("reset"))e.resetDisplayedProducts(a);else if(r.includes("sortAscending")){var l=e.sortDisplayedDataAscending(r[0],n);e.setUserOrganizedAndDisplayedData(l)}else if(r.includes("sortDecending")){var c=e.sortDisplayedDataDecending(r[0],n);e.setUserOrganizedAndDisplayedData(c)}else if(r.includes("checkbox")){var i=[r[1],r.slice(2).join(" ")],s=e.filterDisplayedData(i,n);e.setUserOrganizedAndDisplayedData(s)}else if(r.includes("name")){var o=[r.shift(),r.join(" ")],d=e.filterDisplayedData(o,n);console.log(d),e.setUserOrganizedAndDisplayedData(d)}},e.filterDisplayedData=function(e,t){return e.includes("name")?t.filter((function(t){return t[e[0]].toLowerCase().includes(e[1].toLowerCase())})):t.filter((function(t){return t[e[0]]===e[1]}))},e.resetDisplayedProducts=function(t){e.setState({indexOfFirstDisplayedProduct:0},(function(){return e.setUserOrganizedAndDisplayedData(t)}))},e.sortDisplayedDataAscending=function(e,t){return"name"===e?t.sort((function(t,a){var n=t[e].toUpperCase(),r=a[e].toUpperCase();return n<r?-1:n>r?1:0})):t.sort((function(t,a){return t[e]-a[e]}))},e.sortDisplayedDataDecending=function(e,t){return"name"===e?t.sort((function(t,a){var n=t[e].toUpperCase(),r=a[e].toUpperCase();return n>r?-1:n<r?1:0})):t.sort((function(t,a){return a[e]-t[e]}))},e.setUserOrganizedAndDisplayedData=function(t){var a=e.state,n=a.indexOfFirstDisplayedProduct,r=a.productsPerPage;e.setState({userOrganizedData:Object(y.a)(t),displayedData:t.slice(n,n+r)})},e.state={originalData:[],refinedData:[],userOrganizedData:[],displayedData:[],indexOfFirstDisplayedProduct:0,productsPerPage:9},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getTheBeerStoreData("products").then((function(t){e.setState({originalData:t,refinedData:e.refineTheBeerStoreData(t)},(function(){return e.updateDisplayedData("reset",e.state.refinedData)}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{handleSortandFilter:this.handleSortandFilter}),r.a.createElement("div",{className:"productContainerLayout wrapper"},r.a.createElement(B,{handleSortandFilter:this.handleSortandFilter}),r.a.createElement(L,{displayedData:this.state.displayedData})))}}]),t}(n.Component),z=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"body"},r.a.createElement(f,null),r.a.createElement(g,null),r.a.createElement(I,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[15,1,2]]]);
//# sourceMappingURL=main.5619bcb7.chunk.js.map